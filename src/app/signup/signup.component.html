<div class="container my-5">
  <h2 class="text-center">Register Now:</h2>

  <!-- ^ Appear in case there are API errors == apiError=true ^ -->
  <div *ngIf="apiError" class="alert alert-danger">
    {{apiError}}
  </div>

  <form [formGroup]="registerForm" (ngSubmit)="register(registerForm)">

    <label for="name">Name: </label>
    <input type="text" id="name" formControlName="name" class="form-control mb-2">

    <!-- ! Appear in case there are errors and in case touched the name input -->
    <!-- ! Appear in case there are errors and in case submit the form and it is in valid -->
    <div *ngIf="registerForm.get('name')?.errors && ( registerForm.get('name')?.touched || isNotValidForm)" class="alert alert-danger">
      <!-- ~ registerForm.get('name')?.value === when write any letter in input this appear because value = true ~ -->

      <!-- & Appear in case required -->
      <p class="mb-0" *ngIf="registerForm.get('name')?.getError('required')">Name Is Required</p>

      <!-- & Appear in case minlength -->
      <p class="mb-0" *ngIf="registerForm.get('name')?.getError('minlength')">Name MinLength is 3</p>

      <!-- & Appear in case maxlength -->
      <p class="mb-0" *ngIf="registerForm.get('name')?.getError('maxlength')">Name MaxLength is 10</p>



    </div>


    <label for="email">Email: </label>
    <input type="email" id="email" formControlName="email" class="form-control mb-2">

    <!-- ! Appear in case there are errors and in case touched the email input -->
    <!-- ! Appear in case there are errors and in case submit the form and it is in valid -->
    <div *ngIf="registerForm.get('email')?.errors && (registerForm.get('email')?.touched || isNotValidForm)" class="alert alert-danger">

      <!-- & Appear in case required -->
      <p class="mb-0" *ngIf="registerForm.get('email')?.getError('required')">Email Is Required</p>

      <!-- & Appear in case not match email pattern -->
      <p class="mb-0" *ngIf="registerForm.get('email')?.getError('email')">Email Is InValid</p>

    </div>


    <label for="password">Password: </label>
    <input type="password" id="password" formControlName="password" class="form-control mb-2">

    <!-- ! Appear in case there are errors and in case touched the password input -->
    <!-- ! Appear in case there are errors and in case submit the form and it is in valid -->
    <div *ngIf="registerForm.get('password')?.errors && (registerForm.get('password')?.touched || isNotValidForm)" class="alert alert-danger">

      <!-- & Appear in case required -->
      <p class="mb-0" *ngIf="registerForm.get('password')?.getError('required')">Password Is Required</p>

      <!-- & Appear in case not match password pattern -->
      <p class="mb-0" *ngIf="registerForm.get('password')?.getError('pattern')">Password Is InValid</p>

    </div>


    <label for="rePassword">RePassword: </label>
    <input type="password" id="rePassword" formControlName="rePassword" class="form-control mb-2">

    <!-- ! Appear in case there are errors and in case touched the rePassword input -->
    <!-- ! Appear in case there are errors and in case submit the form and it is in valid -->
    <div *ngIf="registerForm.get('rePassword')?.errors && (registerForm.get('rePassword')?.touched || isNotValidForm)" class="alert alert-danger">

      <!-- & Appear in case required -->
      <p class="mb-0" *ngIf="registerForm.get('rePassword')?.getError('required')">rePassword Is Required</p>

      <!-- & Appear in case not match rePassword pattern -->
      <p class="mb-0" *ngIf="registerForm.get('rePassword')?.getError('pattern')">rePassword Is InValid</p>

      <!-- & Appear in case not match between password and rePassword -->
      <p class="mb-0" *ngIf="registerForm.get('rePassword')?.getError('rePasswordNotMatch')">Password And rePassword Not Match</p>

    </div>


    <label for="phone">Phone: </label>
    <input type="tel" id="phone" formControlName="phone" class="form-control mb-2">

    <!-- ! Appear in case there are errors and in case touched the phone input -->
    <!-- ! Appear in case there are errors and in case submit the form and it is in valid -->
    <div *ngIf="registerForm.get('phone')?.errors && (registerForm.get('phone')?.touched || isNotValidForm)" class="alert alert-danger">

      <!-- & Appear in case required -->
      <p class="mb-0" *ngIf="registerForm.get('phone')?.getError('required')">Phone Is Required</p>

      <!-- & Appear in case not match phone pattern -->
      <p class="mb-0" *ngIf="registerForm.get('phone')?.getError('pattern')">Phone Is InValid</p>

    </div>

    <!-- & [disabled]="registerForm.invalid" === disabled = true -> inValid form / disabled = false -> valid form -->
    <!-- [disabled]="registerForm.invalid" -->
    <button type="submit" class="btn bg-main text-white ms-auto d-block">
      <i *ngIf="loading" class="fa fa-spinner fa-spin"></i>
      <span *ngIf="!loading">Register</span>  <!-- ~ !loading == loading = false -->

    </button>


  </form>
</div>
